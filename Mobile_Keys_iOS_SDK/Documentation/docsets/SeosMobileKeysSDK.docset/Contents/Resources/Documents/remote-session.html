<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Remote session  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Remote session  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SeosMobileKeysSDK 7.5.2 Docs
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SeosMobileKeysSDK Reference</a>
      <img class="carat" src="img/carat.png" />
      Remote session  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Getting%20started.html">Getting started</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started-with-the-sdk.html">Getting started with the SDK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation-without-cocoapods.html">Installation without CocoaPods</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="logging.html">Logging</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Mobile%20Keys.html">Mobile Keys</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysManager.html">MobileKeysManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MobileKeysManagerDelegate.html">MobileKeysManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysEndpointUpdateSummary.html">MobileKeysEndpointUpdateSummary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysEndpointInfo.html">MobileKeysEndpointInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysKey.html">MobileKeysKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysLastAuthenticationInfo.html">MobileKeysLastAuthenticationInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@MobileKeysErrorDomain">MobileKeysErrorDomain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@MobileKeysHttpErrorDomain">MobileKeysHttpErrorDomain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@MobileKeysOptionApplicationId">MobileKeysOptionApplicationId</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@MobileKeysOptionVersion">MobileKeysOptionVersion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/EnvironmentType.html">EnvironmentType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysInfoType.html">MobileKeysInfoType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysErrorCode.html">MobileKeysErrorCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@MobileKeysPreconditionFailedException">MobileKeysPreconditionFailedException</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Mobile%20Keys.html#/c:@F@MobileKeysPreconditionCheckTriggered">MobileKeysPreconditionCheckTriggered</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Bluetooth.html">Bluetooth</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysOpeningResult.html">MobileKeysOpeningResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysTimeoutConfiguration.html">MobileKeysTimeoutConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysOpeningStatusType.html">MobileKeysOpeningStatusType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysOpeningType.html">MobileKeysOpeningType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysReader.html">MobileKeysReader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysScanMode.html">MobileKeysScanMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysReaderProtocolVersion.html">MobileKeysReaderProtocolVersion</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Seos%20Access%20API.html">Seos Access API</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSeosSession.html">MobileKeysSeosSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSeosTag.html">MobileKeysSeosTag</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysApduCommand.html">MobileKeysApduCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MobileKeysApduConnectionProtocol.html">MobileKeysApduConnectionProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysApduResponse.html">MobileKeysApduResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysAuthenticationKeySet.html">MobileKeysAuthenticationKeySet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysMasterAuthenticationKeySet.html">MobileKeysMasterAuthenticationKeySet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysGetDataApduCommand.html">MobileKeysGetDataApduCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysPrivacyKeySet.html">MobileKeysPrivacyKeySet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysPutDataApduCommand.html">MobileKeysPutDataApduCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSeosProvider.html">MobileKeysSeosProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSessionParameters.html">MobileKeysSessionParameters</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSymmetricKeyPair.html">MobileKeysSymmetricKeyPair</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysSelectionResult.html">MobileKeysSelectionResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysKeyNumber.html">MobileKeysKeyNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysHashAlgorithm.html">MobileKeysHashAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysSelectionType.html">MobileKeysSelectionType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysSeosSessionType.html">MobileKeysSeosSessionType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysEncryptionAlgorithm.html">MobileKeysEncryptionAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SeosStatusWord.html">SeosStatusWord</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Seos%20Access%20API%20-%20sample%20code.html">Seos Access API - sample code</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="credential-for-test.html">Credential for test</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="read--write-tags-on-adf.html">Read &amp; write tags on ADF</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="read-adf-metadata.html">Read ADF metadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="master-authentication-keyset.html">Master authentication keyset</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="remote-session.html">Remote session</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="ake-session-setup.html">AKE Session Setup</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Advanced%20use%20cases.html">Advanced use cases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MobileKeysMotionRecognizer.html">MobileKeysMotionRecognizer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MobileKeysMotionRecognizerDelegate.html">MobileKeysMotionRecognizerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MobileKeysManagerExtendedDelegate.html">MobileKeysManagerExtendedDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="custom-tsm-configuration.html">Custom TSM Configuration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Advanced%20use%20cases%20-%20sample%20code.html">Advanced use cases - sample code</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="custom-opening-method.html">Custom opening method</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="protected-data-handling.html">Protected Data handling</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Constants.html">Other Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionBeaconUUID">MobileKeysOptionBeaconUUID</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionCustomEventValue">MobileKeysOptionCustomEventValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionCustomSetupAkeKey">MobileKeysOptionCustomSetupAkeKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionMotionManager">MobileKeysOptionMotionManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionTSMBaseURL">MobileKeysOptionTSMBaseURL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@MobileKeysOptionTSMPublicCert">MobileKeysOptionTSMPublicCert</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysReaderType.html">MobileKeysReaderType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MobileKeysSessionClientIdentifier.html">MobileKeysSessionClientIdentifier</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MotionRecognizerProtocol.html">MotionRecognizerProtocol</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='remote-session' class='heading'>Remote session</h1>

<p>With the remote session functionality you can implement various ways of accessing the Seos instance on the device. For e.g over HTTP. Below is sample code for how to use this functionality.</p>

<p>RemoteSeosSessionHandler.h:</p>
<pre class="highlight objective_c"><code><span class="cp">#import &lt;Foundation/Foundation.h&gt;
#import &lt;SeosMobileKeysSDK/SeosMobileKeysSDK.h&gt;
</span>
<span class="k">@interface</span> <span class="nc">RemoteSeosSessionHandler</span> <span class="p">:</span> <span class="nc">NSObject</span>

<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithProvider</span><span class="p">:(</span><span class="n">MobileKeysSeosProvider</span> <span class="o">*</span><span class="p">)</span><span class="nv">provider</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startRemoteSession</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopRemoteSession</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nf">processApdu</span><span class="p">:(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">apdu</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">processApduAsHex</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">hex</span><span class="p">;</span>

<span class="k">@end</span>
</code></pre>

<p>RemoteSeosSessionHandler.m:</p>
<pre class="highlight objective_c"><code><span class="cp">#import "RemoteSeosSessionHandler.h"
</span>
<span class="k">@implementation</span> <span class="nc">RemoteSeosSessionHandler</span> <span class="p">{</span>
    <span class="n">MobileKeysSeosProvider</span> <span class="o">*</span><span class="n">_provider</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithProvider</span><span class="p">:(</span><span class="n">MobileKeysSeosProvider</span> <span class="o">*</span><span class="p">)</span><span class="nv">provider</span> <span class="p">{</span>
    <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nf">init</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_provider</span> <span class="o">=</span> <span class="n">provider</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startRemoteSession</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">_provider</span><span class="p">.</span><span class="n">isOpen</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">;</span>
        <span class="n">BOOL</span> <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">_provider</span> <span class="nf">openRemoteSessionWithSelectAid</span><span class="p">:</span><span class="nb">NO</span> <span class="nf">description</span><span class="p">:</span><span class="s">@"Remote seos session"</span> <span class="n">withError</span><span class="o">:&amp;</span><span class="n">error</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed to open remote session: %@"</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="nf">description</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Another session is currently open"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopRemoteSession</span> <span class="p">{</span>
    <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">;</span>
    <span class="n">BOOL</span> <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">_provider</span> <span class="nf">closeSeosSession</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed to close remote session: %@"</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="nf">description</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nf">processApdu</span><span class="p">:(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">apdu</span> <span class="p">{</span>
    <span class="n">NSData</span> <span class="o">*</span><span class="n">rApdu</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Received C-APDU: %@"</span><span class="p">,</span> <span class="p">[</span><span class="n">self</span> <span class="nf">dataToHex</span><span class="p">:</span><span class="n">apdu</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">_provider</span><span class="p">.</span><span class="n">isOpen</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">MobileKeysApduCommand</span> <span class="o">*</span><span class="n">apduCommand</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MobileKeysApduCommand</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithRawData</span><span class="p">:</span><span class="n">apdu</span><span class="p">];</span>
        <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">;</span>
        <span class="n">MobileKeysApduResponse</span> <span class="o">*</span><span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="n">_provider</span> <span class="nf">processApduCommand</span><span class="p">:</span><span class="n">apduCommand</span> <span class="nf">withError</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">isOk</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Processing C-APDU was successful"</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error! Processing C-APDU was unsuccessful: %@"</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="nf">description</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="n">rApdu</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">toBytes</span><span class="p">;</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Returning R-APDU: %@"</span><span class="p">,</span> <span class="p">[</span><span class="n">self</span> <span class="nf">dataToHex</span><span class="p">:</span><span class="n">rApdu</span><span class="p">]);</span>
        <span class="k">return</span> <span class="n">rApdu</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Cannot process C-APDU without an opened session"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">rApdu</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">processApduAsHex</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">hex</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">self</span> <span class="nf">dataToHex</span><span class="p">:[</span><span class="n">self</span> <span class="nf">processApdu</span><span class="p">:[</span><span class="n">self</span> <span class="nf">hexToData</span><span class="p">:</span><span class="n">hex</span><span class="p">]]];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">dataToHex</span><span class="p">:(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">data</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dataBuffer</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="p">[</span><span class="n">data</span> <span class="nf">bytes</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dataBuffer</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">string</span><span class="p">];</span>

    <span class="n">NSUInteger</span> <span class="n">dataLength</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span> <span class="nf">length</span><span class="p">];</span>
    <span class="n">NSMutableString</span> <span class="o">*</span><span class="n">hexString</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nf">stringWithCapacity</span><span class="p">:(</span><span class="n">dataLength</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)];</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">NSUInteger</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">dataLength</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">[</span><span class="n">hexString</span> <span class="nf">appendString</span><span class="p">:[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"%02X"</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span> <span class="n">dataBuffer</span><span class="p">[</span><span class="nf">i</span><span class="p">]]];</span>

    <span class="k">return</span> <span class="n">hexString</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nf">hexToData</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">hex</span> <span class="p">{</span>
    <span class="n">NSMutableData</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableData</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
    <span class="n">NSUInteger</span> <span class="n">idx</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">hex</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">idx</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSRange</span> <span class="n">range</span> <span class="o">=</span> <span class="n">NSMakeRange</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">NSString</span> <span class="o">*</span><span class="n">hexStr</span> <span class="o">=</span> <span class="p">[</span><span class="n">hex</span> <span class="nf">substringWithRange</span><span class="p">:</span><span class="n">range</span><span class="p">];</span>
        <span class="n">NSScanner</span> <span class="o">*</span><span class="n">scanner</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSScanner</span> <span class="nf">scannerWithString</span><span class="p">:</span><span class="n">hexStr</span><span class="p">];</span>
        <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">intValue</span><span class="p">;</span>
        <span class="p">[</span><span class="n">scanner</span> <span class="nf">scanHexInt</span><span class="p">:</span><span class="o">&amp;</span><span class="n">intValue</span><span class="p">];</span>
        <span class="kt">char</span> <span class="n">bytesToAppend</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">intValue</span><span class="p">};</span>
        <span class="p">[</span><span class="n">data</span> <span class="nf">appendBytes</span><span class="p">:</span><span class="n">bytesToAppend</span> <span class="nf">length</span><span class="p">:</span><span class="mi">1</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>© 2017 ASSA ABLOY Mobile Services. All rights reserved.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
